<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition template="/resources/templates/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:comp="http://java.sun.com/jsf/composite/components" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:idm="http://midpoint.evolveum.com/xml/ns/custom-taglib/">

	<ui:define name="title">Details for resource '#{resourceDetails.resource.name}'</ui:define>

	<ui:define name="menu">
		<ui:include src="./menu.xhtml" />
	</ui:define>

	<ui:define name="content">
		<ice:form>
			<ice:panelGrid columns="2" style="width: 100%;">
				<ice:panelGroup>
					<ice:panelGrid columns="2" cellpadding="7" cellspacing="7">
						<f:facet name="header">
							<h3>Resource</h3>
						</f:facet>
						<ice:outputLabel value="Oid" />
						<ice:outputText value="#{resourceDetails.resource.oid}" />

						<ice:outputLabel value="Name" />
						<ice:outputText value="#{resourceDetails.resource.name}" />

						<ice:outputLabel value="Type" />
						<ice:outputText value="#{resourceDetails.resource.type}" />

						<ice:outputLabel value="Version" />
						<ice:outputText value="#{resourceDetails.resource.version}" />
					</ice:panelGrid>
					<ice:commandLink style="margin-top: 40px; display: block; text-decoration: underline;"
						value="See debug pages" action="#{resourceDetails.showDebugPages}" />
				</ice:panelGroup>

				<ice:panelGrid columns="2" cellpadding="7" cellspacing="7">
					<f:facet name="header">
						<h3>Connector Details</h3>
					</f:facet>
					<ice:outputLabel value="Overall status" />
					<ice:graphicImage value="/resources/images/#{resourceDetails.resource.overallStatus.icon}"
						alt="#{resourceDetails.resource.overallStatus.title}" />

					<ice:outputLabel value="Configuration validation" />
					<ice:graphicImage value="/resources/images/#{resourceDetails.resource.state.confValidation.icon}"
						alt="#{resourceDetails.resource.state.confValidation.title}" />

					<ice:outputLabel value="Connection initialization" />
					<ice:graphicImage value="/resources/images/#{resourceDetails.resource.state.conInitialization.icon}"
						alt="#{resourceDetails.resource.state.conInitialization.title}" />

					<ice:outputLabel value="Connector connection" />
					<ice:graphicImage value="/resources/images/#{resourceDetails.resource.state.conConnection.icon}"
						alt="#{resourceDetails.resource.state.conConnection.title}" />

					<ice:outputLabel value="Connector sanity" />
					<ice:graphicImage value="/resources/images/#{resourceDetails.resource.state.conSanity.icon}"
						alt="#{resourceDetails.resource.state.conSanity.title}" />

					<ice:outputLabel value="Connector schema" />
					<ice:graphicImage value="/resources/images/#{resourceDetails.resource.state.conSchema.icon}"
						alt="#{resourceDetails.resource.state.conSchema.title}" />

					<ice:outputLabel value="Extra test (#{resourceDetails.resource.state.extraName})" />
					<ice:graphicImage value="/resources/images/#{resourceDetails.resource.state.extra.icon}"
						alt="#{resourceDetails.resource.state.extra.title}" />
				</ice:panelGrid>
			</ice:panelGrid>

			<h3>Object Types</h3>
			<ice:dataTable rows="30" value="#{resourceDetails.resource.objectTypes}" var="item"
				columnClasses="iceDatTblCol1" rowClasses="iceDatTblRow1 iceDatTblRow2"
				columnWidths="150px, 150px, 150px, 250px, 120px" resizable="false">

				<ice:column>
					<f:facet name="header">
						<ice:outputText value="displayName" />
					</f:facet>
					<ice:outputText>
						<ice:commandLink styleClass="iceOutTxt" style="text-decoration: underline;"
							value="#{item.displayName}">
							<f:param name="objectType" value="aaa" />
						</ice:commandLink>
					</ice:outputText>
				</ice:column>
				<ice:column>
					<f:facet name="header">
						<ice:outputText value="nativeObjectClass" />
					</f:facet>
					<ice:outputText value="#{item.nativeObjectClass}" />
				</ice:column>
				<ice:column>
					<f:facet name="header">
						<ice:outputText value="type" />
					</f:facet>
					<ice:outputText value="#{item.type}" />
				</ice:column>
				<ice:column>
					<f:facet name="header">
						<ice:outputText value="help" />
					</f:facet>
					<ice:outputText value="#{item.help}" />
				</ice:column>
				<ice:column>
					<f:facet name="header">
					</f:facet>
					<ice:outputText>
						<ice:commandLink styleClass="iceOutTxt" style="text-decoration: underline;"
							value="List Objects">
							<f:param name="objectType" value="aaa" />
						</ice:commandLink>
					</ice:outputText>
				</ice:column>
			</ice:dataTable>
			<div>***Unused buttons will be removed later***</div>

			<div class="button-bar">
				<idm:button action="#{resourceList.updateController}" value="#{msg['Back']}"
					img="/resources/images/door_in.png" />
				<idm:button value="Disable" img="/resources/images/drive_burn.png" id="disableResource" immediate="true" />
				<idm:button id="deleteResource" buttonType="negative" value="Delete"
					img="/resources/images/drive_delete.png" />
				<idm:button action="#{resourceDetails.testConnection}" id="testConnectionButton" value="Test connection"
					img="/resources/images/connect.png" />
				<idm:button action="#{resourceDetails.importFromResource}" id="ImportFromResourceButton"
					value="Import accounts" img="/resources/images/drive_go.png" />

				not used

				<idm:button action="#{resourceTypeController.listAccounts}" id="listAccountsButton" value="List accounts"
					img="/resources/images/table.png" />

				<idm:button action="#{resourceTypeController.getImportStatus}" id="ImportStatusButton"
					value="Import status" img="/resources/images/cog.png" />
			</div>
		</ice:form>
	</ui:define>
</ui:composition>