<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition template="/resources/templates/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:comp="http://java.sun.com/jsf/composite/components" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:idm="http://midpoint.evolveum.com/xml/ns/custom-taglib/">

	<ui:define name="title">List Accounts for ''</ui:define>

	<ui:define name="menu">
		<ui:include src="./menu.xhtml" />
	</ui:define>

	<ui:define name="content">
		<ice:form id="admin-content">
			<ice:dataTable id="userTable" rows="#{userList.rowsCount}" value="#{userList.userData}" var="user"
				sortColumn="#{userList.userList.sortColumnName}" sortAscending="#{userList.userList.ascending}"
				columnClasses="iceDatTblCol1" rowClasses="iceDatTblRow1 iceDatTblRow2"
				columnWidths="140px, 140px, 140px, 240px, 230px" resizable="false">
				<ice:column>
					<f:facet name="header">
						<ice:commandSortHeader columnName="name" arrow="true" actionListener="#{userList.sortItem}">
							<ice:outputText id="userName" value="#{lang.messages['page.account.index.table.name']}" />
						</ice:commandSortHeader>
					</f:facet>
					<ice:outputText>
						<ice:commandLink styleClass="iceOutTxt" style="text-decoration: underline;" id="name"
							value="#{user.name}" action="#{userList.showUserDetails}">
							<f:param name="userOid" value="#{user.oid}" />
						</ice:commandLink>
					</ice:outputText>
				</ice:column>
				<ice:column>
					<f:facet name="header">
						<ice:commandSortHeader columnName="givenName" arrow="true" actionListener="#{userList.sortItem}">
							<ice:outputText id="userGivenName" value="#{lang.messages['page.account.index.table.given']}" />
						</ice:commandSortHeader>
					</f:facet>
					<ice:outputText id="givenName" value="#{user.givenName}" />
				</ice:column>
				<ice:column>
					<f:facet name="header">
						<ice:commandSortHeader columnName="familyName" arrow="true" actionListener="#{userList.sortItem}">
							<ice:outputText id="userFamilyName" value="#{lang.messages['page.account.index.table.familyname']}" />
						</ice:commandSortHeader>
					</f:facet>
					<ice:outputText id="familyName" value="#{user.familyName}" />
				</ice:column>
				<ice:column>
					<f:facet name="header">
						<ice:commandSortHeader columnName="fullName" arrow="true" actionListener="#{userList.sortItem}">
							<ice:outputText id="userFullName" value="#{lang.messages['page.account.index.table.fullname']}" />
						</ice:commandSortHeader>
					</f:facet>
					<ice:outputText id="fullName" value="#{user.fullName}" />
				</ice:column>
				<ice:column>
					<f:facet name="header">
						<ice:commandSortHeader columnName="email" arrow="true" actionListener="#{userList.sortItem}">
							<ice:outputText id="userEmail" value="#{lang.messages['page.account.index.table.email']}" />
						</ice:commandSortHeader>
					</f:facet>
					<ice:outputText id="email" value="#{user.email}" />
				</ice:column>
			</ice:dataTable>

			<ice:panelGroup styleClass="container-auto" style="text-align: center;">
				<idm:button img="/resources/images/resultset_first.png" value="#{lang.messages['page.paginator.first']}"
					action="#{userList.listFirst}" />
				<idm:button img="/resources/images/resultset_previous.png"
					value="#{lang.messages['page.paginator.previous']}" action="#{userList.listPrevious}" />
				<idm:button img="/resources/images/resultset_next.png" value="#{lang.messages['page.paginator.next']}"
					action="#{userList.listNext}" />
				<idm:button img="/resources/images/resultset_last.png" value="#{lang.messages['page.paginator.last']}"
					action="#{userList.listLast}" />
			</ice:panelGroup>

			<div class="button-bar">
				<idm:button action="#{resourceTypeController.backPerformed}" value="#{msg['button.back']}"
					img="/resources/images/door_in.png" />
			</div>
		</ice:form>
	</ui:define>
</ui:composition>