<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition template="/resources/templates/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:comp="http://java.sun.com/jsf/composite/components" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:idm="http://midpoint.evolveum.com/xml/ns/custom-taglib/">

	<ui:define name="title">#{lang.messages['page.resource.index.title']}</ui:define>

	<ui:define name="menu">
		<ui:include src="./menu.xhtml" />
	</ui:define>

	<ui:define name="content">
		Resource stuff :)))
		<ice:form>
			<ice:dataTable id="resourceTable" rows="50" value="#{resourceList.resourceList}" var="item"
				sortColumn="#{resourceList.sortColumnName}" sortAscending="#{resourceList.ascending}"
				columnClasses="iceDatTblCol1" rowClasses="iceDatTblRow1 iceDatTblRow2"
				columnWidths="auto, 240px, 200px, 200px, 30px, 150px" resizable="false">
				<ice:column>
					<f:facet name="header">
						<ice:selectBooleanCheckbox id="selectAllCheckbox" value="#{resourceList.selectAll}"
							valueChangeListener="#{resourceList.selectAllPerformed}" immediate="true" partialSubmit="true" />
					</f:facet>
					<ice:selectBooleanCheckbox id="selectCheckbox" value="#{item.selected}" />
				</ice:column>
				<ice:column>
					<f:facet name="header">
						<ice:commandSortHeader columnName="name" arrow="true" actionListener="#{resourceList.sortList}">
							<ice:outputText id="nameTxt" value="Name" />
						</ice:commandSortHeader>
					</f:facet>
					<ice:outputText>
						<ice:commandLink styleClass="iceOutTxt" style="text-decoration: underline;" id="name"
							value="#{item.name}" action="#{resourceList.showResourceDetails}">
							<f:param name="resourceOid" value="#{item.oid}" />
						</ice:commandLink>
					</ice:outputText>
				</ice:column>
				<ice:column>
					<f:facet name="header">
						<ice:commandSortHeader columnName="type" arrow="true" actionListener="#{resourceList.sortList}">
							<ice:outputText id="typeTxt" value="Type" />
						</ice:commandSortHeader>
						<ice:outputText value="#{item.type}" />
					</f:facet>
				</ice:column>
				<ice:column>
					<f:facet name="header">
						<ice:commandSortHeader columnName="version" arrow="true" actionListener="#{resourceList.sortList}">
							<ice:outputText id="versionTxt" value="Version" />
						</ice:commandSortHeader>
						<ice:outputText value="#{item.version}" />
					</f:facet>
				</ice:column>
				<ice:column>
					<f:facet name="header">
						<ice:commandSortHeader columnName="state" arrow="true" actionListener="#{resourceList.sortList}">
							<ice:outputText id="stateTxt" value="State" />
						</ice:commandSortHeader>
						<ice:graphicImage />
					</f:facet>
				</ice:column>
				<ice:column>
					<f:facet name="header">
						<ice:outputText id="progressTxt" value="Progress" />
						<!-- progress bar -->
					</f:facet>
				</ice:column>

				<div class="button-bar">
					<idm:button value="Disable" img="/resources/images/????.png" id="disableResource" immediate="true" />

					<idm:button id="deleteResource" buttonType="positive" value="Delete" img="/resources/images/???.png" />
				</div>
			</ice:dataTable>
		</ice:form>
	</ui:define>
</ui:composition>