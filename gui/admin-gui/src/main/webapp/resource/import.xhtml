<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition template="/resources/templates/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:comp="http://java.sun.com/jsf/composite/components" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:idm="http://midpoint.evolveum.com/xml/ns/custom-taglib/">

	<ui:define name="title">#{msg['page.resource.import.title']} '#{resourceImport.resource.name}'</ui:define>

	<ui:define name="menu">
		<ui:include src="./menu.xhtml" />
		<ui:include src="./menuDetails.xhtml" />
	</ui:define>

	<ui:define name="content">
		<ice:form>
			<ice:panelGrid columns="2" cellpadding="7" cellspacing="7">
				<ice:outputText value="#{msg['page.resource.import.table.description']}" />
				<ice:outputText value="#{resourceImport.status.name}" />

				<ice:outputText value="#{msg['page.resource.import.table.running']}" />
				<ice:selectBooleanCheckbox value="#{resourceImport.status.running}" editable="false" />

				<ice:outputText value="#{msg['page.resource.import.table.launchTime']}" />
				<ice:outputText value="#{resourceImport.status.launchTimeString}" />

				<ice:outputText value="#{msg['page.resource.import.table.finishTime']}" />
				<ice:outputText value="#{resourceImport.status.finishTimeString}" />

				<ice:outputText value="#{msg['page.resource.import.table.progress']}" />
				<ice:outputText value="#{resourceImport.status.progress}" />

				<ice:outputText value="#{msg['page.resource.import.table.lastStatus']}" />
				<ice:outputText value="#{resourceImport.status.lastStatus}" />

				<ice:outputText value="#{msg['page.resource.import.table.numberOfErrors']}" />
				<ice:outputText value="#{resourceImport.status.numberOfErrors}" />

				<ice:panelGroup>
					<h3>#{msg['page.resource.import.table.lastError']}</h3>
				</ice:panelGroup>
				<ice:panelGroup />

				<ice:outputText value="#{msg['page.resource.import.table.message']}" styleClass="importStatus" />
				<ice:outputText value="#{resourceImport.status.lastError.message}" />

				<ice:outputText value="#{msg['page.resource.import.table.detail']}" styleClass="importStatus" />
				<ice:outputText value="#{resourceImport.status.lastError.details}" />

				<ice:outputText value="#{msg['page.resource.import.table.timestamp']}" styleClass="importStatus" />
				<ice:outputText value="#{resourceImport.status.lastError.timestamp}" />
			</ice:panelGrid>

			<div class="button-bar">
				<idm:button action="#{resourceImport.backPerformed}" value="#{msg['page.button.back']}"
					img="/resources/images/door_in.png" />
			</div>
		</ice:form>
	</ui:define>
</ui:composition>