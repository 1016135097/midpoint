<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:comp="http://java.sun.com/jsf/composite/components"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:idm="http://midpoint.evolveum.com/xml/ns/custom-taglib/"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<f:view locale="#{lang.currentLocale}"
	contentType="text/html; charset=utf-8">
	<h:head>
		<title>midPoint</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<ice:outputStyle href="/resources/css/reset.css" />
		<ice:outputStyle href="/xmlhttp/css/xp/xp.css" />
		<ice:outputStyle href="/resources/css/default.css" />
		<ice:outputStyle href="/resources/css/evolveum.css" />
		<h:outputScript name="jquery.js" library="js" />
		<h:outputScript name="evolveum.js" library="js" />
	</h:head>

	<h:body style="min-width:1270px;">
		<div id="header">
			<div id="login-box">
				<span> <ice:outputLabel
						value="#{msg['page.template.loggedInAs']}"
						rendered="#{security.isUserLoggedIn}" /> <em>&nbsp; <ice:outputLabel
							value="#{security.shortUserName}"
							rendered="#{security.isUserLoggedIn}" /> </em> </span> <span> <ice:form
						rendered="#{not security.isUserLoggedIn}" style="display: inline;">			
	                    #{msg['page.template.language']}:

						<ui:repeat value="#{lang.supportedLocales}" var="locale">
							<ice:commandLink immediate="true">
								<ice:graphicImage
									value="/resources/images/flag/#{locale.language}.png"
									alt="#{locale.language}" styleClass="flag" />
								<f:setPropertyActionListener target="#{lang.currentLanguage}"
									value="#{locale.language}_#{locale.country}_#{locale.variant}" />
							</ice:commandLink>
						</ui:repeat>
					</ice:form> </span>
				<f:verbatim styleClass="delimiter"
					rendered="#{security.isUserLoggedIn}">|</f:verbatim>
				<span> <ice:outputLink id="logoutUserLink"
						rendered="#{security.isUserLoggedIn}"
						value="#{facesContext.externalContext.requestContextPath}/j_spring_security_logout">
						<span id="logoutUserLinkSpan">#{msg['page.template.logout']}</span>
					</ice:outputLink> </span>

				<f:verbatim styleClass="delimiter"
					rendered="#{security.isUserLoggedIn}">|</f:verbatim>
				<ice:outputLink id="topHelpLink"
					value="#{facesContext.externalContext.requestContextPath}/help/index.iface"
					rendered="#{security.isUserLoggedIn}">
					<span id="helpSpan">#{msg['page.template.help']}</span>
				</ice:outputLink>
				<ice:panelGroup style="padding-right: 10px; display: inline-block;">&nbsp;</ice:panelGroup>
			</div>
			<div class="container">
				<div id="logo">
					<ice:graphicImage value="/resources/images/Logo.jpg" alt="Evolveum" />
				</div>
			</div>
		</div>
		<h:panelGroup rendered="#{security.isUserLoggedIn}" id="nav"
			layout="block">
			<div id="progressIndicator">
				<ice:outputConnectionStatus />
			</div>
			<div class="container">
				<idm:topMenu selected="#{template.selectedTopId}">
					<div id="navBar">
						<div id="topHomeButtonLeft"></div>
						<idm:topMenuItem id="topHome" style="margin-left: 30px;"
							action="/user-gui/index?faces-redirect=true"
							name="#{msg['page.template.top.home']}"
							description="#{msg['page.template.top.description.home']}" />

						<idm:topMenuItem id="topSearch"
							action="/user-gui/search/index?faces-redirect=true" name="Search"
							description="Search user" />

						<idm:topMenuItem id="topProfile" action="#{userProfile.fillUser}"
							name="Profile" description="User profile" />

						<div id="topConfigurationButtonRight"></div>
					</div>
					<script type="text/javascript">
						var centerOfWindow = jQuery("#top-nav").width() / 2;
						var navBarHalfWidth = jQuery("#navBar").width() / 2;
						jQuery("#navBar").css("margin-left",
								centerOfWindow - navBarHalfWidth);
					</script>
				</idm:topMenu>
			</div>

		</h:panelGroup>
		<ui:remove>
			<div id="breadcrumbs">
				<div class="container">
					<c:forEach var="item" items="#{about.items}">
						<span>asdf</span>
						<span class="arrow">::</span>
					</c:forEach>
				</div>
			</div>
		</ui:remove>
		<div class="container">
			<div id="contentBody">
				<div id="sidebar">
					<ui:insert name="sidebar">
						<idm:leftMenu selected="#{template.selectedLeftId}">
							<ui:insert name="menu">
								<idm:leftMenuContainer name="Sample Menu">
									<idm:leftMenuItem name="Sample Menu Item 1" action="/a" />
									<idm:leftMenuItem name="Sample Menu Item 2" action="/b" />
									<idm:leftMenuItem name="Sample Menu Item 3" action="/c" />
								</idm:leftMenuContainer>
							</ui:insert>
						</idm:leftMenu>
					</ui:insert>
					<div class="clear-menu"></div>
				</div>
				<div id="content">
					<div id="wrapper">
						<h2>
							<ui:insert name="title">Welcome</ui:insert>
						</h2>
						<idm:messages id="messages" errorClass="messages-error"
							infoClass="messages-info" fatalClass="message-fatal"
							warnClass="messages-warn" />
						<ui:insert name="content">sample content</ui:insert>
					</div>
				</div>
			</div>
		</div>
		<div class="clear"></div>
		<div id="footer">
			<div class="container">
				<p id="credit">#{msg['page.template.copyright']}</p>
			</div>
		</div>
	</h:body>
</f:view>
</html>
