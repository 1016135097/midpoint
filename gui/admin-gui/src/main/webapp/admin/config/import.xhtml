<?xml version="1.0" encoding="UTF-8" ?>
<!-- Copyright (c) 2011 Evolveum                             -->
<!--                                                         -->
<!-- The contents of this file are subject to the terms      -->
<!-- of the Common Development and Distribution License      -->
<!-- (the License). You may not use this file except in      -->
<!-- compliance with the License.                            -->
<!--                                                         -->
<!-- You can obtain a copy of the License at                 -->
<!-- http://www.opensource.org/licenses/cddl1 or             -->
<!-- CDDLv1.0.txt file in the source code distribution.      -->
<!-- See the License for the specific language governing     -->
<!-- permission and limitations under the License.           -->
<!--                                                         -->
<!-- If applicable, add the following below the CDDL Header, -->
<!-- with the fields enclosed by brackets [] replaced by     -->
<!-- your own identifying information:                       -->
<!--                                                         -->
<!-- Portions Copyrighted 2011 [name of copyright owner]     -->
<!-- Portions Copyrighted 2011 lazyman					     -->
<!--                                                         -->
<ui:composition template="/resources/templates/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:comp="http://java.sun.com/jsf/composite/components" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component" xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:idm="http://midpoint.evolveum.com/xml/ns/custom-taglib/">

	<ui:define name="title">#{msg['page.config.import.title']}</ui:define>

	<ui:define name="menu">
		<ui:include src="./menu.xhtml" />
	</ui:define>

	<ui:define name="content">		
		<ice:form id="importForm">
			<ui:remove>
				<ice:panelGroup style="border: 1px solid black;">
					<idm:inputSyntaxTextArea id="code" cols="20" rows="10" width="943" height="300" value="#{import.editor}" />
				</ice:panelGroup>
			</ui:remove>			
			<idm:xmlInput id="editor" height="350" readonly="false" value="#{import.editor}" />
			<ul style="margin-top: 10px;">
				<li><ice:selectBooleanCheckbox id="enableEncryptProtected" value="#{import.encryptProtected}">
					#{msg['page.config.import.encryptProtected']}
					</ice:selectBooleanCheckbox>
				</li>
				<li><ice:selectBooleanCheckbox id="enableFetchResourceSchema" value="#{import.fetchResourceSchema}">
					#{msg['page.config.import.fetchResourceSchema']}
					</ice:selectBooleanCheckbox>
				</li>
				<li><ice:selectBooleanCheckbox id="enableKeepOid" value="#{import.keepOid}">
					#{msg['page.config.import.keepOid']}
					</ice:selectBooleanCheckbox>
				</li>
				<li><ice:selectBooleanCheckbox id="enableOverwrite" value="#{import.overwrite}">
					#{msg['page.config.import.overwrite']}
					</ice:selectBooleanCheckbox>
				</li>

				<li><ice:selectBooleanCheckbox id="enableFetchReferentialIntegrity" value="#{import.referentialIntegrity}">
					#{msg['page.config.import.referentialIntegrity']}
					</ice:selectBooleanCheckbox>
				</li>
				<li><ice:selectBooleanCheckbox id="enableSummarizeErrors" value="#{import.summarizeErrors}">
					#{msg['page.config.import.summarizeErrors']}
					</ice:selectBooleanCheckbox>
				</li>
				<li><ice:selectBooleanCheckbox id="enableSummarizeSucceses" value="#{import.summarizeSucceses}">
					#{msg['page.config.import.summarizeSucceses']}
					</ice:selectBooleanCheckbox>
				</li>
				<li><ice:selectBooleanCheckbox id="enableValidateDynamicSchema" value="#{import.validateDynamicSchema}">
					#{msg['page.config.import.validateDynamicSchema']}
					</ice:selectBooleanCheckbox>
				</li>
				<li><ice:selectBooleanCheckbox id="enableValidateStaticSchema" value="#{import.validateStaticSchema}">
					#{msg['page.config.import.validateStaticSchema']}
					</ice:selectBooleanCheckbox>
				</li>
				<li>
					<ice:outputLabel  value="#{msg['page.config.import.stopAfter']} " />
					<ice:inputText id="valueStopAfterErrors" value="#{import.stopAfterErrors}" style="width: 60px"/>
					<ice:outputLabel  value=" #{msg['page.config.import.stopAfterErrors']}" />
				</li>
				<li><ice:selectBooleanCheckbox id="uploadFileCheckBox" value="#{import.showFileUpload}" immediate="true" partialSubmit="true">
					#{msg['page.config.import.uploadFile']}</ice:selectBooleanCheckbox>
				</li>
			</ul>
			<ace:fileEntry style="margin-top: 5px;" id="fileEntryComp" fileEntryListener="#{import.uploadFile}"
				rendered="#{import.showFileUpload}" label="#{msg['page.config.import.fileEntryComp']}" />

			<div class="button-bar">
				<ice:panelGroup rendered="#{import.showFileUpload}">
					<div class="buttons">
						<h:commandButton id="uploadObjectButton" value="#{msg['page.config.import.button.uploadObject']}"
							styleClass="button positive fileUpload" />
					</div>
				</ice:panelGroup>

				<idm:button id="uploadButton" value="#{msg['page.config.import.button.uploadObject']}" buttonType="positive"
					action="#{import.upload}" img="/resources/images/add.png" partialSubmit="false" immediate="false"
					rendered="#{not import.showFileUpload}" />
			</div>
		</ice:form>
	</ui:define>
</ui:composition>



