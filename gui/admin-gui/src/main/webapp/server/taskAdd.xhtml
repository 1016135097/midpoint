<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition template="/resources/templates/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:comp="http://java.sun.com/jsf/composite/components"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:idm="http://midpoint.evolveum.com/xml/ns/custom-taglib/">

	<ui:define name="title">#{msg['page.server.index.title']}</ui:define>

	<ui:define name="menu">
		<ui:include src="./menu.xhtml" />
	</ui:define>

	<ui:define name="content">
		<ice:form>
			<ice:panelGrid columns="3">
				<ice:outputLabel value="Name: ">
					<span style="color: red;">*</span>
				</ice:outputLabel>
				<ice:inputText id="name" value="#{taskAdd.task.name}"
					required="true" requiredMessage="#{msg['page.jsf.field.required']}" />
				<ice:message for="name" errorClass="error" />

				<ice:outputLabel value="Handler uri: ">
					<span style="color: red;">*</span>
				</ice:outputLabel>
				<ice:inputText id="handlerUri" value="#{taskAdd.task.handlerUri}"
					required="true" requiredMessage="#{msg['page.jsf.field.required']}"
					disabled="true" style="min-width: 300px; width: auto" />
				<ice:message for="handlerUri" errorClass="error" />

				<ice:outputLabel value="Object ref: ">
					<span style="color: red;">*</span>
				</ice:outputLabel>
				<ice:selectOneMenu id="objectRef"
					value="#{taskAdd.itemController.selectedResurceRef}"
					style="min-width: 157px; width: auto;">
					<f:selectItems id="objectRefSelected"
						value="#{taskAdd.itemController.resourceRefList}" />
				</ice:selectOneMenu>
				<ice:message for="handlerUri" errorClass="error" />

				<ice:outputText value="Exclusivity status" />
				<ice:selectOneListbox id="exclusivityStatus"
					value="#{taskAdd.task.exclusivityStatus}"
					style="min-width: 157px; width: auto;">
					<f:selectItems id="exclusivityStatusSelected"
						value="#{taskAdd.itemController.exclusivityStatus}" />
				</ice:selectOneListbox>
				<ice:message for="handlerUri" errorClass="error" />

				<ice:outputText value="Execution status" />
				<ice:selectOneListbox id="executionStatus"
					value="#{taskAdd.task.executionStatus}"
					style="min-width: 157px; width: auto;">
					<f:selectItems id="executionStatusSelected"
						value="#{taskAdd.itemController.executionStatus}" />
				</ice:selectOneListbox>
				<ice:message for="handlerUri" errorClass="error" />


				<ice:outputLabel value="Schedule interval: ">
					<span style="color: red;">*</span>
				</ice:outputLabel>
				<ice:inputText id="scheduleInterval"
					value="#{taskAdd.task.scheduleInterval}" required="true"
					requiredMessage="#{msg['page.jsf.field.required']}" />
				<ice:message for="scheduleInterval" errorClass="error" />
				<ice:message for="handlerUri" errorClass="error" />


			</ice:panelGrid>
			<div class="button-bar">

				<idm:button value="Add task" img="/resources/images/application_add.png"
					id="addTask" action="#{taskAdd.addTask}" />
				<idm:button value="Import task"
					img="/resources/images/application_go.png" id="importTask"
					immediate="true" action="/config/import"
					actionListener="#{taskAdd.importTask}" />


			</div>
		</ice:form>
	</ui:define>
</ui:composition>