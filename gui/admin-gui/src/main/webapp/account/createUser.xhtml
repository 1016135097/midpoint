<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition template="/resources/templates/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:comp="http://java.sun.com/jsf/composite/components" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:idm="http://midpoint.evolveum.com/xml/ns/custom-taglib/">

	<ui:define name="title">#{lang.messages['user.type.create.title']}</ui:define>

	<ui:define name="menu">
		<ui:include src="./menu.xhtml" />
	</ui:define>

	<ui:define name="content">
		<ice:form>
			<ice:panelGrid columns="3">
				<ice:outputLabel value="#{msg['user.type.name']}">
					<span style="color: red;">*</span>
				</ice:outputLabel>
				<ice:inputText id="name" value="#{create.user.name}" required="true"
					requiredMessage="#{msg['field.required']}" />
				<ice:message for="familyName" errorClass="error" />

				<ice:outputLabel value="#{msg['user.type.givenName']}">
					<span style="color: red;">*</span>
				</ice:outputLabel>
				<ice:inputText id="givenName" value="#{create.user.givenName}" required="true"
					requiredMessage="#{msg['field.required']}" />
				<ice:message for="givenName" errorClass="error" />

				<ice:outputLabel value="#{msg['user.type.familyName']}">
					<span style="color: red;">*</span>
				</ice:outputLabel>
				<ice:inputText id="familyName" value="#{create.user.familyName}" required="true"
					requiredMessage="#{msg['field.required']}" />
				<ice:message for="familyName" errorClass="error" />

				<ice:outputLabel value="#{msg['user.type.fullName']}">
					<span style="color: red;">*</span>
				</ice:outputLabel>
				<ice:inputText id="fullName" value="#{create.user.fullName}" required="true"
					requiredMessage="#{msg['field.required']}" />
				<ice:message for="fullName" errorClass="error" />

				<ice:outputLabel value="#{msg['user.type.email']}" />
				<ice:inputText id="email" value="#{create.user.email}" />
				<ice:message for="email" errorClass="error" />

				<ice:outputLabel value="#{msg['user.type.locality']}" />
				<ice:inputText id="locality" value="#{create.user.locality}" />
				<ice:message for="locality" errorClass="error" />

				<ice:outputLabel value="#{msg['user.type.password1']}">
					<span style="color: red;">*</span>
				</ice:outputLabel>
				<ice:inputSecret id="password1" value="#{create.user.password1}" required="true"
					requiredMessage="#{msg['field.required']}">
					<f:validator validatorId="PasswordValidator" />
					<f:attribute name="otherComponentId" value="password2" />
				</ice:inputSecret>
				<ice:message for="password1" errorClass="error" />

				<ice:outputLabel value="#{msg['user.type.password2']}">
					<span style="color: red;">*</span>
				</ice:outputLabel>
				<ice:inputSecret id="password2" immediate="true" value="#{create.user.password2}" required="true"
					requiredMessage="#{msg['field.required']}" />
				<ice:message for="password2" errorClass="error" />

				<ice:outputLabel value="#{msg['user.type.enabled']}" />
				<ice:selectBooleanCheckbox id="enabled" value="#{create.user.enabled}" required="true"
					requiredMessage="#{msg['field.required']}" />
				<ice:message for="enabled" errorClass="error" />

				<ice:outputLabel value="#{msg['user.type.webAccessEnabled']}" />
				<ice:selectBooleanCheckbox id="webAccessEnabled" value="#{create.user.webAccessEnabled}" required="true"
					requiredMessage="#{msg['field.required']}" />
				<ice:message for="webAccessEnabled" errorClass="error" />
			</ice:panelGrid>
			<div class="button-bar">
				<idm:button action="#{userList.fillTableList}" value="#{lang.messages['user.type.cancel.button']}"
					img="/resources/images/door_in.png" id="cancelCreateUser" immediate="true" />

				<idm:button action="#{create.create}" id="createUser" buttonType="positive"
					value="#{lang.messages['user.type.create.button']}" img="/resources/images/user_add.png" />
			</div>
		</ice:form>
	</ui:define>
</ui:composition>