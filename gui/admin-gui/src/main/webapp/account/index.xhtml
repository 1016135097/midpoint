<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition template="/resources/templates/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:comp="http://java.sun.com/jsf/composite/components" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:idm="http://midpoint.evolveum.com/xml/ns/custom-taglib/">

	<ui:define name="title">Login</ui:define>

	<ui:define name="menu">
		<ui:include src="./menu.xhtml" />
	</ui:define>

	<ui:define name="content">
		<ice:panelGroup>
			<ice:form id="admin-content">
				<ice:panelGrid column="1">
					<ice:panelGroup styleClass="buttonsPosisiton">
						<idm:button action="/account/createUser" id="addButton" buttonType="positive" value="Add user"
							img="/resources/images/user_add.png" />
						<idm:button action="/account/deleteUser" buttonType="negative" value="Delete user" id="deleteButton"
							img="/resources/images/user_delete.png" />
						<ice:panelGrid columns="3" styleClass="searchOidPosition">
							<ice:outputText value="#{msg['user.type.userID']}" />
							<ice:inputText value="#{userList.searchOid}" immediate="true" />
							<idm:button actionListener="#{userList.searchUser}" value="#{msg['user.type.search.button']}"
								id="searchButton" img="/resources/images/magnifier.png" />
						</ice:panelGrid>
					</ice:panelGroup>

					<ice:panelGroup>
						<ice:outputText value="Users per page: " />
						<ice:inputText value="#{userList.rowsCount}" />
						<ice:commandButton value="OK" action="#{userList.listFirst}" />
						<ice:panelGrid columns="4" styleClass="pagingPosition">
							<idm:button img="/resources/images/resultset_first.png" value="First" action="#{userList.listFirst}" />
							<idm:button img="/resources/images/resultset_previous.png" value="Previous"
								action="#{userList.listPrevious}" />
							<idm:button img="/resources/images/resultset_next.png" value="Next" action="#{userList.listNext}" />
							<idm:button img="/resources/images/resultset_last.png" value="Last" action="#{userList.listLast}" />
						</ice:panelGrid>
					</ice:panelGroup>

					<ice:dataTable id="userTable" rows="#{userList.rowsCount}" value="#{userList.userData}" var="user"
						sortColumn="#{userList.userList.sortColumnName}" sortAscending="#{userList.userList.ascending}"
						columnClasses="iceDatTblCol1" rowClasses="iceDatTblRow1 iceDatTblRow2"
						columnWidths="230px, 100px, 100px, 170px, 100px, 100px, 150px" resizable="true">
						<ice:column>
							<f:facet name="header">
								<ice:commandSortHeader columnName="oid" arrow="true" actionListener="#{userList.sortItem}">
									<ice:outputText id="userOid" value="#{msg['user.type.oid']}" />
								</ice:commandSortHeader>
							</f:facet>
							<ice:outputText id="oid" value="#{user.oid}" />
							<ice:rowSelector id="selected" clickAction="/account/detailUser"
								selectionListener="#{userList.userSelectionListener}" styleClass="selectedRow" />
						</ice:column>
						<ice:column>
							<f:facet name="header">
								<ice:commandSortHeader columnName="givenName" arrow="true" actionListener="#{userList.sortItem}">
									<ice:outputText id="userGivenName" value="#{msg['user.type.givenName']}" />
								</ice:commandSortHeader>
							</f:facet>
							<ice:outputText id="givenName" value="#{user.givenName}" />
						</ice:column>
						<ice:column>
							<f:facet name="header">
								<ice:commandSortHeader columnName="familyName" arrow="true" actionListener="#{userList.sortItem}">
									<ice:outputText id="userFamilyName" value="#{msg['user.type.familyName']}" />
								</ice:commandSortHeader>
							</f:facet>
							<ice:outputText id="familyName" value="#{user.familyName}" />
						</ice:column>
						<ice:column>
							<f:facet name="header">
								<ice:commandSortHeader columnName="fullName" arrow="true" actionListener="#{userList.sortItem}">
									<ice:outputText id="userFullName" value="#{msg['user.type.fullName']}" />
								</ice:commandSortHeader>
							</f:facet>
							<ice:outputText id="fullName" value="#{user.fullName}" />
						</ice:column>
						<ice:column>
							<f:facet name="header">
								<ice:commandSortHeader columnName="name" arrow="true" actionListener="#{userList.sortItem}">

									<ice:outputText id="userName" value="#{msg['user.type.name']}" />
								</ice:commandSortHeader>
							</f:facet>
							<ice:outputText id="name" value="#{user.name}" />
						</ice:column>
						<ice:column>
							<f:facet name="header">
								<ice:commandSortHeader columnName="email" arrow="true" actionListener="#{userList.sortItem}">
									<ice:outputText id="userEmail" value="#{msg['user.type.email']}" />
								</ice:commandSortHeader>
							</f:facet>
							<ice:outputText id="email" value="#{user.email}" />
						</ice:column>
					</ice:dataTable>
				</ice:panelGrid>
			</ice:form>
		</ice:panelGroup>
	</ui:define>
</ui:composition>