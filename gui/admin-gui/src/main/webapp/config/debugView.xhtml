<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition template="/resources/templates/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:comp="http://java.sun.com/jsf/composite/components" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component" xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:idm="http://midpoint.evolveum.com/xml/ns/custom-taglib/">

	<ui:define name="title">#{lang.messages['page.config.debugView.title']}</ui:define>

	<ui:define name="menu">
		<ui:include src="./menu.xhtml" />
	</ui:define>

	<ui:define name="content">
		<ice:form>
			<ice:selectBooleanCheckbox value="#{debugView.editOther}" immediate="true" partialSubmit="true"
				style="margin-bottom: 7px;">
					#{lang.messages['page.config.debugView.editOther']}
					</ice:selectBooleanCheckbox>
			<ice:panelGrid columns="3" cellpadding="7" cellspacing="7" rendered="#{debugView.editOther}">
				<ice:outputLabel value="#{lang.messages['page.config.debugView.name']}" />
				<ice:inputText value="#{debugView.editOtherOid}" />
				<idm:button action="#{debugView.editOtherObject}" value="#{lang.messages['page.config.debugView.button.edit']}"
					img="/resources/images/door_in.png" id="backButton" immediate="true" />
			</ice:panelGrid>
		</ice:form>

		<ice:panelGrid columns="2" cellpadding="7" cellspacing="7" rendered="#{debugView.viewEditable}">
			<ice:outputLabel value="#{lang.messages['page.config.debugView.oid']}" />
			<ice:outputLabel value="#{debugView.object.oid}" />

			<ice:outputLabel value="#{lang.messages['page.config.debugView.name']}" />
			<ice:outputLabel value="#{debugView.object.name}" />
		</ice:panelGrid>

		<ice:form rendered="#{debugView.viewEditable}">
			<ice:selectBooleanCheckbox value="#{debugView.editable}" immediate="true" partialSubmit="true"
				style="margin-bottom: 7px;">
					#{lang.messages['page.config.debugView.edit']}
					</ice:selectBooleanCheckbox>
			<ice:panelGroup style="border: 1px solid black;">
				<ice:inputTextarea style="width: 967px; height: 350px;" value="#{debugView.xml}"
					readonly="#{not debugView.editable}" />

				<ui:remove>
					<idm:inputSyntaxTextArea id="code" cols="20" rows="10" width="943" height="390" value="#{debugView.xml}" />
				</ui:remove>

				<ui:remove>
					<idm:xmlInput id="editor" width="978" height="300" readonly="#{not debugView.editable}"
						value="#{debugView.xml}" />
				</ui:remove>
			</ice:panelGroup>
			<div class="button-bar">
				<idm:button action="#{debugList.back}" value="#{lang.messages['page.config.debugView.button.back']}"
					img="/resources/images/door_in.png" id="backButton" immediate="true" />

				<idm:button action="#{debugView.savePerformed}" id="saveButton" buttonType="positive"
					value="#{lang.messages['page.config.debugView.button.save']}" img="/resources/images/disk.png" />
			</div>
		</ice:form>
	</ui:define>
</ui:composition>

