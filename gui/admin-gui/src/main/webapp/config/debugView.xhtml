<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition template="/resources/templates/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:comp="http://java.sun.com/jsf/composite/components" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component" xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:idm="http://midpoint.evolveum.com/xml/ns/custom-taglib/">

	<ui:define name="title">#{msg['page.config.debugView.title']}</ui:define>

	<ui:define name="menu">
		<ui:include src="./menu.xhtml" />
	</ui:define>

	<ui:define name="content">
		<ice:panelGrid columns="2" cellpadding="7" cellspacing="7" rendered="#{debugView.viewEditable}">
			<ice:outputLabel value="#{msg['page.config.debugView.oid']}:" />
			<ice:outputLabel value="#{debugView.object.oid}" />

			<ice:outputLabel value="#{msg['page.config.debugView.name']}:" />
			<ice:outputLabel value="#{debugView.object.name}" />
		</ice:panelGrid>
		
		<hr />
		
		<ice:form id="debugViewForm">
			<ice:selectBooleanCheckbox value="#{debugView.editOther}" immediate="true" partialSubmit="true"
				style="margin-bottom: 7px;">#{msg['page.config.debugView.editOther']}
			</ice:selectBooleanCheckbox>
			<ice:panelGrid columns="4" cellpadding="7" cellspacing="7" rendered="#{debugView.editOther}">
				<ice:outputLabel value="#{msg['page.config.debugView.name']}" />
				<ice:inputText id="editOtherName" value="#{debugView.editOtherName}" required="true" />
				<idm:button action="#{debugView.editOtherObject}"
					value="#{msg['page.config.debugView.button.edit']}" img="/resources/images/page_white_code.png"
					id="editButton" />
				<ice:message for="editOtherName" errorClass="error" />
			</ice:panelGrid>
		</ice:form>

		<hr />

		<ice:form rendered="#{debugView.viewEditable}">
			<ui:remove>
				<ice:inputTextarea id="textAreaDebugView" style="width: 967px; height: 350px;" value="#{debugView.xml}"
					readonly="#{not debugView.editable}" />
			</ui:remove>

			<ui:remove>
				<idm:inputSyntaxTextArea id="code" cols="20" rows="10" width="943" height="390" value="#{debugView.xml}" />
			</ui:remove>
					
			<idm:xmlInput id="editor" width="978" height="600" readonly="#{not debugView.editable}"
				value="#{debugView.xml}" />
				
			<div class="button-bar">
				<idm:button action="#{debugView.editable}" value="#{msg['page.config.debugView.edit']}"
			img="/resources/images/page_white_code.png" id="editButton" immediate="true" partialSubmit="true" />
			</div>
			
			<div class="button-bar">
				<idm:button action="#{debugView.back}" value="#{msg['page.config.debugView.button.back']}"
					img="/resources/images/door_in.png" id="backButton" immediate="true" />

				<idm:button action="#{debugView.savePerformed}" id="saveButton" buttonType="positive"
					value="#{msg['page.config.debugView.button.save']}" img="/resources/images/disk.png" />
			</div>
		</ice:form>
	</ui:define>
</ui:composition>

