<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition template="/resources/templates/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:comp="http://java.sun.com/jsf/composite/components" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component" xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:idm="http://midpoint.evolveum.com/xml/ns/custom-taglib/">

	<ui:define name="title">#{lang.messages['page.config.import.title']}</ui:define>

	<ui:define name="menu">
		<ui:include src="./menu.xhtml" />
	</ui:define>

	<ui:define name="content">		
		<ice:form>
			<ui:remove>
				<ice:panelGroup style="border: 1px solid black;">
					<idm:inputSyntaxTextArea id="code" cols="20" rows="10" width="943" height="300" value="#{import.editor}" />
				</ice:panelGroup>
			</ui:remove>			
			<idm:xmlInput id="editor" height="340" readonly="false" value="#{import.editor}" />
			<ul style="margin-top: 10px;">
				<li><ice:selectBooleanCheckbox value="#{import.overwrite}">
					#{lang.messages['page.config.import.overwrite']}
					</ice:selectBooleanCheckbox>
				</li>
				<li><ice:selectBooleanCheckbox value="#{import.showFileUpload}" immediate="true" partialSubmit="true">
					#{lang.messages['page.config.import.uploadFile']}</ice:selectBooleanCheckbox>
				</li>
			</ul>
			<ace:fileEntry style="margin-top: 5px;" id="fileEntryComp" fileEntryListener="#{import.uploadFile}"
				rendered="#{import.showFileUpload}" />

			<div class="button-bar">
				<ice:panelGroup rendered="#{import.showFileUpload}">
					<div class="buttons">
						<h:commandButton value="#{lang.messages['page.config.import.button.uploadObject']}"
							styleClass="button positive fileUpload" />
					</div>
				</ice:panelGroup>

				<ui:remove>
					<!-- this button can't be used because ace:fileEntry needs standard full submit, not ajax submit -->
				</ui:remove>
				<idm:button value="#{lang.messages['page.config.import.button.uploadObject']}" buttonType="positive"
					action="#{import.upload}" img="/resources/images/add.png" partialSubmit="false" immediate="false"
					rendered="#{not import.showFileUpload}" />
			</div>
		</ice:form>
	</ui:define>
</ui:composition>



